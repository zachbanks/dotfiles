# TODO: Tidy this up a little.

# Pat to your oh-my-zsh configuration.
export ZSH=$HOME/.oh-my-zsh

# Set to the name theme to load.
# Look in ~/.oh-my-zsh/themes/
export ZSH_THEME="kennethreitz"

# Themes I like.
# kennethreitz
# arrow
# afowler
# robbyrussell

# Set to this to use case-sensitive completion
# export CASE_SENSITIVE="true"

# Comment this out to disable weekly auto-update checks
# export DISABLE_AUTO_UPDATE="true"

# Uncomment following line if you want to disable colors in ls
# export DISABLE_LS_COLORS="true"

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Example format: plugins=(rails git textmate ruby lighthouse)
plugins=(git osx ruby rails3 brew gem pip vi-mode)

source $ZSH/oh-my-zsh.sh

# Git and git flow completetion.
source ~/.git-flow-completion.zsh

# Customize to your needs...
# ============
# = My Stuff =
# ============

# ================
# = Custom Paths =
# ================

# Add bin directory in home to path.
export PATH=$PATH:/users/zach/bin/


# ==================
# = Custom Aliases =
# ==================

editor="mate"
# Make Git (and possibly other programs) use textmate as default editor.
export EDITOR="/usr/bin/${editor}"
# Map v to mmvim.
alias e="${editor}"
alias sourcez="source ~/.zshrc"
# CD to home directory.
alias home="cd ~/"
# Clear screen.
alias c='clear'
# CD to Desktop.
alias dtop='cd ~/Desktop/'
# Open current dir in Finder.
alias oif='open -a Finder .'
# Open flash player.
alias ofp='open ~/Documents/Files/flashplayer_10.1.sparseimage'
# Print date.
alias date="date '+%A %B %d %G - %H:%M:%S'"
# CD to Test dir.
alias coded="cd ~/Code/"
# CD to Scripts dir.
alias scriptsd="cd ~/Scripts/"
# CD to home dir.  alias home="cd $HOME"
# Empty trash.
alias et="rm -rf ~/.Trash/*"
# Open bash profile.
alias obp="${editor} ~/.bash_profile"
# Open zshrc.
alias ozf="${editor} ~/.zshrc"
# Restart computer.
alias restart="sudo shutdown -r now"
# Reload bash profile.
alias sourcebp="source ~/.bash_profile"
# Change directory to ~/zachbanks.
alias zachbanks="cd /users/zachbanks/"
# Alias to ~/Documents/
alias docs="cd ~/Documents/"
# Alias to ~/Sites/
alias sites="cd ~/Sites/"

# Cd to MPG.
alias mpg="cd ~/Scripts/Working/MPG/"

# Relative jumping aliases.
alias ..="cd .."
alias ..2="cd ../.."
alias ..3="cd ../../.."
alias ..4="cd ../../../.."

# Copy pwd to pasteboard.
alias cpwd="ruby -e 'puts %[\"#{Dir.pwd}\"]' | pbcopy"
alias cdpwd="ruby -e 'puts %[cd \"#{Dir.pwd}\"; clear;]' | pbcopy"

# RSpec.
alias rspec="rspec --color --format doc"

# Last time over.
alias lto='ruby ~/Test/Useful/days_since_date.rb'

# History Typo Aliases.
function ~ { echo 'HELLO'; }
function @ { echo 'WORLD'; }

# Aliases for mvim.

# Open mvimrc.
alias ovf="${editor} ~/.vimrc"

# Rails aliases.
alias olog="tail -f ./log/development.log"
alias tsr="terminitor start rails"

# Git aliases.
# Starts git.
alias g="git"
# Open ~/.gitconfig.
alias ogf="${editor} ~/.gitconfig"
# Pushes to GitHub and Heroku.
alias gpush="git push && git push heroku && git checkout develop"

# This would work to but I like the function better.
# alias sudo-shutdown='ruby ~/Test/use_reboot_message.rb'

# The function runs when the sudo command is called.
# function sudo { 
# 	if [ "$1" = "shutdown" ]; then 
# 		ruby ~/Test/use_reboot_message.rb
# 	fi
# }

# =========
# = Other =
# =========

# RVM.
[[ -s "$HOME/.rvm/scripts/rvm" ]] && . "$HOME/.rvm/scripts/rvm"  # This loads RVM into a shell session.

# # Git tab completion
# source ~/git-completion.bash

# # Show branch in status line
# PS1='[\W$(__git_ps1 " (%s)")]\$ '
# export PROMPT_COMMAND='echo -ne "\033]0;${PWD/#$HOME/~}\007"'



# The following is a script created by the creator of rvm to update all of your Textmate bundles.
function update_textmate_bundles {
	#!/usr/bin/env bash

	old_dir=${pwd}

	mkdir -p /Library/Application\ Support/TextMate/

	sudo chown -R $(whoami) /Library/Application\ Support/TextMate

	cd /Library/Application\ Support/TextMate/

	if [[ -d Bundles/.svn ]] ; then
	  cd Bundles && svn up
	else
	  if [[ -d Bundles ]] ; then
	    mv Bundles Bundles.old
	  fi
	  svn co http://svn.textmate.org/trunk/Bundles
	fi

	cd $old_dir

}

# Load completions for Ruby, Git, etc.
autoload compinit
compinit


# Star wars movie.
alias starwars="telnet towel.blinkenlights.nl"

# Cucumber.
alias cuke="cucumber"